NetSuite ClientScript for Automated Tax Code Application
Overview

This ClientScript automates the application of a predefined tax code to all line items on an invoice in NetSuite. The script is triggered when the value of a custom checkbox (custbody_custom_tax_code_checkbox) on the invoice form is changed. If the checkbox is checked, the tax code specified in a custom header field (custbody_custom_tax_codes_header) is applied to each line item on the invoice.
Features

    Field Change Trigger: Automatically triggers when the custbody_custom_tax_code_checkbox field is modified.
    Dynamic Tax Code Application: Applies the tax code from the custbody_custom_tax_codes_header to all line items if the checkbox is checked.
    Logging: Logs the status of the checkbox and details of the tax code application for troubleshooting and verification.

Script Functions
fieldChanged(context)

This function is executed whenever a field's value on the invoice form is changed. It specifically listens for changes to the custbody_custom_tax_code_checkbox:

    Check Tax Checkbox: Verifies if the checkbox is checked.
    Apply Tax Code: If checked, retrieves the tax code from the custbody_custom_tax_codes_header and applies it to each line item.
    Logging: Logs each step of the process, including the application of the tax code to line items and any issues encountered if the tax code is absent.

Installation and Setup

    Upload Script:
        Save the script file and upload it to the NetSuite SuiteScripts directory.
    Create Script Record:
        Navigate to Customization > Scripting > Scripts in NetSuite and create a new script record selecting ClientScript as the script type.
        Link the script record to the uploaded script file.
    Deploy Script:
        Deploy the script to the relevant invoice forms where you want the automated tax code application functionality.
        Ensure the deployment is configured to trigger on the invoice records.

Usage

Upon deployment, any modification to the custbody_custom_tax_code_checkbox on an invoice will trigger the script. If the checkbox is checked:

    The script retrieves the tax code specified in the custbody_custom_tax_codes_header.
    It then applies this tax code to each item in the invoice's item sublist.

Troubleshooting

    Tax Code Not Applying: Ensure that the tax code is correctly entered in the custbody_custom_tax_codes_header. Check the script log for any output related to tax code application issues.
    Script Not Triggering: Verify that the script is correctly deployed to the invoice form and that the fields custbody_custom_tax_code_checkbox and custbody_custom_tax_codes_header exist and are correctly configured on the form.

For additional support, review the detailed logs generated by the script in the NetSuite script logs under Customization > Scripting > Script Logs.
